

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Slide I/O &mdash; valis &#34;1.0.0rc11&#34;
 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Image pre-processing" href="preprocessing.html" />
    <link rel="prev" title="Registration" href="registration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: black" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/valis_logo_black_no_bg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Slide I/O</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-valis.slide_io">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#classes">Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#metadata">MetaData</a></li>
<li class="toctree-l3"><a class="reference internal" href="#slidereader">SlideReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bioformatsslidereader">BioFormatsSlideReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vipsslidereader">VipsSlideReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flattenedpyramidreader">FlattenedPyramidReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="#imagereader">ImageReader</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">Image pre-processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_detectors.html">Feature detectors and descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature_matcher.html">Feature matching</a></li>
<li class="toctree-l1"><a class="reference internal" href="affine_optimizer.html">Affine optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="non_rigid_registrars.html">Non-rigid registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="serial_rigid.html">Serial rigid registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="serial_non_rigid.html">Serial non-rigid registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="viz.html">Visualization</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">valis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Slide I/O</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/slide_io.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="slide-i-o">
<h1>Slide I/O<a class="headerlink" href="#slide-i-o" title="Permalink to this headline">¶</a></h1>
<section id="module-valis.slide_io">
<span id="functions"></span><h2>Functions<a class="headerlink" href="#module-valis.slide_io" title="Permalink to this headline">¶</a></h2>
<p>Methods and classes to read and write slides in the .ome.tiff format</p>
<dl class="py function">
<dt class="sig sig-object py" id="valis.slide_io.convert_to_ome_tiff">
<span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">convert_to_ome_tiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perceputally_uniform_channel_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_wh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lzw'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#convert_to_ome_tiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.convert_to_ome_tiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an image to an ome.tiff image</p>
<p>Saves a new copy of the image as a tiled pyramid ome.tiff with valid ome-xml.
Uses pyvips to save the image. Currently only writes a single series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_f</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to image to be converted</p></li>
<li><p><strong>dst_f</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path indicating where the image should be saved.</p></li>
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level to be converted.</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Series to be converted.</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region of the slide to be converted. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
<li><p><strong>perceputally_uniform_channel_colors</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Whether or not to add perceptually uniform channel colors</p></li>
<li><p><strong>tile_wh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Tile shape used to save the image. Used to create a square tile,
so <cite>tile_wh</cite> is both the width and height.</p></li>
<li><p><strong>compression</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Compression method used to save ome.tiff . Default is lzw, but can also
be jpeg or jp2k. See pyips for more details.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="valis.slide_io.create_ome_xml">
<span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">create_ome_xml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape_xyzct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bf_dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_rgb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_physical_size_xyu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perceputally_uniform_channel_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#create_ome_xml"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.create_ome_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Create new ome-xmml object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape_xyzct</strong> (<em>tuple of int</em>) – XYZCT shape of image</p></li>
<li><p><strong>bf_dtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – String format of Bioformats datatype</p></li>
<li><p><strong>is_rgb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Whether or not the image is RGB</p></li>
<li><p><strong>pixel_physical_size_xyu</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>, </em><em>optional</em>) – Physical size per pixel and the unit.</p></li>
<li><p><strong>channel_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – List of channel names.</p></li>
<li><p><strong>perceputally_uniform_channel_colors</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Whether or not to add perceptually uniform channel colors.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>new_ome</strong> – ome_types.model.OME object containing ome-xml metadata</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ome_types.model.OME</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="valis.slide_io.get_slide_reader">
<span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">get_slide_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#get_slide_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.get_slide_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get appropriate SlideReader</p>
<p>If a slide can be read by openslide and bioformats, VipsSlideReader will be used
because it can be opened as a pyvips.Image. More common formats, like png, jpeg,
etc… will be opened with scikit-image. Everything else will be opened with
Bioformats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_f</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to slide</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – The series to be read. If <cite>series</cite> is None, the the <cite>series</cite>
will be set to the series associated with the largest image.
In cases where there is only 1 image in the file, <cite>series</cite>
will be 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>reader</strong> – SlideReader class that can read the slide and and convert them to
images or pyvips.Images at the specified level and series. They
also contain a <cite>MetaData</cite> object that contains information about
the slide, like dimensions at each level, physical units, etc…</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#valis.slide_io.SlideReader" title="valis.slide_io.SlideReader">SlideReader</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>pyvips will be used to open ome-tiff images when <cite>series</cite> is 0</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="valis.slide_io.init_jvm">
<span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">init_jvm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_gb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#init_jvm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.init_jvm" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize JVM for BioFormats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mem_gb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Amount of memory, in GB, for JVM</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="valis.slide_io.kill_jvm">
<span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">kill_jvm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#kill_jvm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.kill_jvm" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill JVM for BioFormats</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="valis.slide_io.save_ome_tiff">
<span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">save_ome_tiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ome_xml</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_wh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compression</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lzw'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#save_ome_tiff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.save_ome_tiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an image in the ome.tiff format using pyvips</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>pyvips.Image</em><em>, </em><em>ndarray</em>) – Image to be saved. If a numpy array is provided, it will be converted
to a pyvips.Image.</p></li>
<li><p><strong>ome_xml</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – ome-xml string describing image’s metadata. If None, it will be createdd</p></li>
<li><p><strong>tile_wh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Tile shape used to save <cite>img</cite>. Used to create a square tile, so <cite>tile_wh</cite>
is both the width and height.</p></li>
<li><p><strong>compression</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Compression method used to save ome.tiff . Default is lzw, but can also
be jpeg or jp2k. See pyips for more details.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="valis.slide_io.update_xml_for_new_img">
<span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">update_xml_for_new_img</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_ome_xml_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_xyzct</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bf_dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_rgb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_physical_size_xyu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perceputally_uniform_channel_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#update_xml_for_new_img"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.update_xml_for_new_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Update dimensions ome-xml metadata</p>
<p>Used to create a new ome-xml that reflects changes in an image, such as its shape</p>
<p>If <cite>current_ome_xml_str</cite> is invalid or None, a new ome-xml will be created</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_ome_xml_str</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – ome-xml string that needs to be updated</p></li>
<li><p><strong>new_xyzct</strong> (<em>tuple of int</em>) – XYZCT shape of image</p></li>
<li><p><strong>bf_dtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – String format of Bioformats datatype</p></li>
<li><p><strong>is_rgb</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Whether or not the image is RGB</p></li>
<li><p><strong>pixel_physical_size_xyu</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)"><em>tuple</em></a><em>, </em><em>optional</em>) – Physical size per pixel and the unit.</p></li>
<li><p><strong>channel_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><em>optional</em>) – List of channel names.</p></li>
<li><p><strong>perceputally_uniform_channel_colors</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – Whether or not to add perceptually uniform channel colors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>new_ome</strong> – ome_types.model.OME object containing ome-xml metadata</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ome_types.model.OME</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h2>
<section id="metadata">
<h3>MetaData<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="valis.slide_io.MetaData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">MetaData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#MetaData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.MetaData" title="Permalink to this definition">¶</a></dt>
<dd><p>Store slide metadata</p>
<p>To be filled in by a SlideReader object</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#valis.slide_io.MetaData.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of slide.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.series">
<span class="sig-name descname"><span class="pre">series</span></span><a class="headerlink" href="#valis.slide_io.MetaData.series" title="Permalink to this definition">¶</a></dt>
<dd><p>Series number.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.server">
<span class="sig-name descname"><span class="pre">server</span></span><a class="headerlink" href="#valis.slide_io.MetaData.server" title="Permalink to this definition">¶</a></dt>
<dd><p>String indicating what was used to read the metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.slide_dimensions">
<span class="sig-name descname"><span class="pre">slide_dimensions</span></span><a class="headerlink" href="#valis.slide_io.MetaData.slide_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimensions of all images in the pyramid (width, height).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.is_rgb">
<span class="sig-name descname"><span class="pre">is_rgb</span></span><a class="headerlink" href="#valis.slide_io.MetaData.is_rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the image is RGB.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.pixel_physical_size_xyu">
<span class="sig-name descname"><span class="pre">pixel_physical_size_xyu</span></span><a class="headerlink" href="#valis.slide_io.MetaData.pixel_physical_size_xyu" title="Permalink to this definition">¶</a></dt>
<dd><p>Physical size per pixel and the unit.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.channel_names">
<span class="sig-name descname"><span class="pre">channel_names</span></span><a class="headerlink" href="#valis.slide_io.MetaData.channel_names" title="Permalink to this definition">¶</a></dt>
<dd><p>List of channel names. None if image is RGB</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.n_channels">
<span class="sig-name descname"><span class="pre">n_channels</span></span><a class="headerlink" href="#valis.slide_io.MetaData.n_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.original_xml">
<span class="sig-name descname"><span class="pre">original_xml</span></span><a class="headerlink" href="#valis.slide_io.MetaData.original_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Xml string created by bio-formats</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.bf_datatype">
<span class="sig-name descname"><span class="pre">bf_datatype</span></span><a class="headerlink" href="#valis.slide_io.MetaData.bf_datatype" title="Permalink to this definition">¶</a></dt>
<dd><p>String indicating bioformats image datatype</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.optimal_tile_wh">
<span class="sig-name descname"><span class="pre">optimal_tile_wh</span></span><a class="headerlink" href="#valis.slide_io.MetaData.optimal_tile_wh" title="Permalink to this definition">¶</a></dt>
<dd><p>Tile width and height used to open and/or save image</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.MetaData.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#MetaData.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.MetaData.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Name of slide.</p></li>
<li><p><strong>server</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>optional</em>) – String indicating what was used to read the metadata.</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Series number.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="slidereader">
<h3>SlideReader<a class="headerlink" href="#slidereader" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="valis.slide_io.SlideReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">SlideReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#SlideReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.SlideReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Read slides and get metadata</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.SlideReader.slide_f">
<span class="sig-name descname"><span class="pre">slide_f</span></span><a class="headerlink" href="#valis.slide_io.SlideReader.slide_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to slide</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.SlideReader.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><a class="headerlink" href="#valis.slide_io.SlideReader.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>MetaData containing some basic metadata about the slide</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#valis.slide_io.MetaData" title="valis.slide_io.MetaData">MetaData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.SlideReader.series">
<span class="sig-name descname"><span class="pre">series</span></span><a class="headerlink" href="#valis.slide_io.SlideReader.series" title="Permalink to this definition">¶</a></dt>
<dd><p>Image series</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.SlideReader.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#SlideReader.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.SlideReader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>src_f</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a>) – Path to slide</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.SlideReader.create_metadata">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#SlideReader.create_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.SlideReader.create_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and fill in a MetaData object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>metadata</strong> – MetaData object containing metadata about slide</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#valis.slide_io.MetaData" title="valis.slide_io.MetaData">MetaData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.SlideReader.slide2image">
<span class="sig-name descname"><span class="pre">slide2image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#SlideReader.slide2image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.SlideReader.slide2image" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img</strong> – An image of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.SlideReader.slide2vips">
<span class="sig-name descname"><span class="pre">slide2vips</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#SlideReader.slide2vips"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.SlideReader.slide2vips" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to pyvips.Image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vips_slide</strong> – An  of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyvips.Image</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="bioformatsslidereader">
<h3>BioFormatsSlideReader<a class="headerlink" href="#bioformatsslidereader" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="valis.slide_io.BioFormatsSlideReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">BioFormatsSlideReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#BioFormatsSlideReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.BioFormatsSlideReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#valis.slide_io.SlideReader" title="valis.slide_io.SlideReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">valis.slide_io.SlideReader</span></code></a></p>
<p>Read slides using BioFormats</p>
<p>Uses the packages jpype and bioformats-jar</p>
<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.BioFormatsSlideReader.create_metadata">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#BioFormatsSlideReader.create_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.BioFormatsSlideReader.create_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and fill in a MetaData object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>metadata</strong> – MetaData object containing metadata about slide</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#valis.slide_io.MetaData" title="valis.slide_io.MetaData">MetaData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.BioFormatsSlideReader.get_channel">
<span class="sig-name descname"><span class="pre">get_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#valis.slide_io.BioFormatsSlideReader.get_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get channel from slide</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Series number</p></li>
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Either the name of the channel (string), or the index of the channel (int)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img_channel</strong> – Specified channel sliced from the slide/image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.BioFormatsSlideReader.get_tiles_parallel">
<span class="sig-name descname"><span class="pre">get_tiles_parallel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_bbox_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#BioFormatsSlideReader.get_tiles_parallel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.BioFormatsSlideReader.get_tiles_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get tiles to slice from the slide</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.BioFormatsSlideReader.scale_physical_size">
<span class="sig-name descname"><span class="pre">scale_physical_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#valis.slide_io.BioFormatsSlideReader.scale_physical_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get resolution pyramid level</p>
<p>Scale resolution to be for requested pyramid level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>level_xy_per_px</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="valis.slide_io.BioFormatsSlideReader.series">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">series</span></span><a class="headerlink" href="#valis.slide_io.BioFormatsSlideReader.series" title="Permalink to this definition">¶</a></dt>
<dd><p>Slide series</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.BioFormatsSlideReader.slide2image">
<span class="sig-name descname"><span class="pre">slide2image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#BioFormatsSlideReader.slide2image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.BioFormatsSlideReader.slide2image" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Series number. Defaults to 1</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img</strong> – An image of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.BioFormatsSlideReader.slide2vips">
<span class="sig-name descname"><span class="pre">slide2vips</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tile_wh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#BioFormatsSlideReader.slide2vips"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.BioFormatsSlideReader.slide2vips" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to pyvips.Image</p>
<p>This method uses Bioformats to slice tiles from the slides, and then
stitch them together using pyvips.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Series number. Defaults to 0</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
<li><p><strong>tile_wh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – Size of tiles used to contstruct <cite>vips_slide</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vips_slide</strong> – An  of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyvips.Image</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="vipsslidereader">
<h3>VipsSlideReader<a class="headerlink" href="#vipsslidereader" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="valis.slide_io.VipsSlideReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">VipsSlideReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#VipsSlideReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.VipsSlideReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#valis.slide_io.SlideReader" title="valis.slide_io.SlideReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">valis.slide_io.SlideReader</span></code></a></p>
<p>Read slides using pyvips
Pyvips includes OpenSlide and so can read those formats as well.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.VipsSlideReader.use_openslide">
<span class="sig-name descname"><span class="pre">use_openslide</span></span><a class="headerlink" href="#valis.slide_io.VipsSlideReader.use_openslide" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not openslide can be used to read this slide.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="valis.slide_io.VipsSlideReader.is_ome">
<span class="sig-name descname"><span class="pre">is_ome</span></span><a class="headerlink" href="#valis.slide_io.VipsSlideReader.is_ome" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether ot not the side is an ome.tiff.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>When using openslide, lower levels can only be read without distortion,
if pixman version 0.40.0 is installed. As of Oct 7, 2021, Macports only has
pixman version 0.38, which produces distorted lower level images. If using
macports may need to install from source do  “./configure –prefix=/opt/local/”
when installing from source.</p>
<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.VipsSlideReader.create_metadata">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#VipsSlideReader.create_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.VipsSlideReader.create_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and fill in a MetaData object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>metadata</strong> – MetaData object containing metadata about slide</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#valis.slide_io.MetaData" title="valis.slide_io.MetaData">MetaData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.VipsSlideReader.get_channel">
<span class="sig-name descname"><span class="pre">get_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#valis.slide_io.VipsSlideReader.get_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get channel from slide</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Series number</p></li>
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Either the name of the channel (string), or the index of the channel (int)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img_channel</strong> – Specified channel sliced from the slide/image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.VipsSlideReader.scale_physical_size">
<span class="sig-name descname"><span class="pre">scale_physical_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#valis.slide_io.VipsSlideReader.scale_physical_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get resolution pyramid level</p>
<p>Scale resolution to be for requested pyramid level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>level_xy_per_px</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.VipsSlideReader.slide2image">
<span class="sig-name descname"><span class="pre">slide2image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#VipsSlideReader.slide2image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.VipsSlideReader.slide2image" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level.</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img</strong> – An image of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.VipsSlideReader.slide2vips">
<span class="sig-name descname"><span class="pre">slide2vips</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#VipsSlideReader.slide2vips"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.VipsSlideReader.slide2vips" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to pyvips.Image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vips_slide</strong> – An  of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyvips.Image</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="flattenedpyramidreader">
<h3>FlattenedPyramidReader<a class="headerlink" href="#flattenedpyramidreader" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="valis.slide_io.FlattenedPyramidReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">FlattenedPyramidReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#FlattenedPyramidReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.FlattenedPyramidReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#valis.slide_io.VipsSlideReader" title="valis.slide_io.VipsSlideReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">valis.slide_io.VipsSlideReader</span></code></a></p>
<p>Read flattened pyramid using pyvips
Read slide pyramids where each page/plane is a channel in the pyramid.
An example would be one where the plane dimensions are
something like
[(600, 600), (600, 600), (600, 600), (300, 300), (300, 300), (300, 300)]
for a 3 channel image with  2  pyramid levels. It seems that bioformats
does not recognize these as pyramid images.</p>
<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.FlattenedPyramidReader.create_metadata">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#FlattenedPyramidReader.create_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.FlattenedPyramidReader.create_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and fill in a MetaData object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>metadata</strong> – MetaData object containing metadata about slide</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#valis.slide_io.MetaData" title="valis.slide_io.MetaData">MetaData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.FlattenedPyramidReader.get_channel">
<span class="sig-name descname"><span class="pre">get_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#valis.slide_io.FlattenedPyramidReader.get_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get channel from slide</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Series number</p></li>
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Either the name of the channel (string), or the index of the channel (int)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img_channel</strong> – Specified channel sliced from the slide/image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.FlattenedPyramidReader.scale_physical_size">
<span class="sig-name descname"><span class="pre">scale_physical_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#valis.slide_io.FlattenedPyramidReader.scale_physical_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get resolution pyramid level</p>
<p>Scale resolution to be for requested pyramid level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>level_xy_per_px</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.FlattenedPyramidReader.slide2image">
<span class="sig-name descname"><span class="pre">slide2image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#FlattenedPyramidReader.slide2image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.FlattenedPyramidReader.slide2image" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level.</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img</strong> – An image of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.FlattenedPyramidReader.slide2vips">
<span class="sig-name descname"><span class="pre">slide2vips</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#FlattenedPyramidReader.slide2vips"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.FlattenedPyramidReader.slide2vips" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to pyvips.Image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vips_slide</strong> – An  of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyvips.Image</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="imagereader">
<h3>ImageReader<a class="headerlink" href="#imagereader" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="valis.slide_io.ImageReader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">valis.slide_io.</span></span><span class="sig-name descname"><span class="pre">ImageReader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#ImageReader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.ImageReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#valis.slide_io.SlideReader" title="valis.slide_io.SlideReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">valis.slide_io.SlideReader</span></code></a></p>
<p>Read image using scikit-image</p>
<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.ImageReader.create_metadata">
<span class="sig-name descname"><span class="pre">create_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#ImageReader.create_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.ImageReader.create_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and fill in a MetaData object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>metadata</strong> – MetaData object containing metadata about slide</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#valis.slide_io.MetaData" title="valis.slide_io.MetaData">MetaData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.ImageReader.get_channel">
<span class="sig-name descname"><span class="pre">get_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#valis.slide_io.ImageReader.get_channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Get channel from slide</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>series</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Series number</p></li>
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Either the name of the channel (string), or the index of the channel (int)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img_channel</strong> – Specified channel sliced from the slide/image</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.ImageReader.scale_physical_size">
<span class="sig-name descname"><span class="pre">scale_physical_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#valis.slide_io.ImageReader.scale_physical_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get resolution pyramid level</p>
<p>Scale resolution to be for requested pyramid level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>level_xy_per_px</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.10)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.ImageReader.slide2image">
<span class="sig-name descname"><span class="pre">slide2image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#ImageReader.slide2image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.ImageReader.slide2image" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>img</strong> – An image of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="valis.slide_io.ImageReader.slide2vips">
<span class="sig-name descname"><span class="pre">slide2vips</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xywh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/valis/slide_io.html#ImageReader.slide2vips"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#valis.slide_io.ImageReader.slide2vips" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert slide to pyvips.Image</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – Pyramid level</p></li>
<li><p><strong>xywh</strong> (<em>tuple of int</em><em>, </em><em>optional</em>) – The region to be sliced from the slide. If None,
then the entire slide will be converted. Otherwise
xywh is the (top left x, top left y, width, height) of
the region to be sliced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vips_slide</strong> – An  of the slide or the region defined by xywh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pyvips.Image</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="preprocessing.html" class="btn btn-neutral float-right" title="Image pre-processing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="registration.html" class="btn btn-neutral float-left" title="Registration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Chandler Gatenbee.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>